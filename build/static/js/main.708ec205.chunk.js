(this.webpackJsonphw1=this.webpackJsonphw1||[]).push([[0],{103:function(e,t,c){"use strict";c.r(t);var n,a=c(0),r=c.n(a),i=c(15),s=c(11),o=c.n(s),j=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,149)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),n(e),a(e),r(e),i(e)}))},l=c(139),u=c(12),d=c(19),b=c(124),O=c(140),h=c(125),p=c(144),f=c(142),x=c(80),m=c(126),g=c(145),v=c(128),y=c(123),E=c(74),w=c.n(E),I=c(73),S=c.n(I),L=c(16),k=c(2),_=Object(y.a)((function(e){return{header:{marginBottom:e.spacing(2),padding:e.spacing(3),display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},paper:{marginRight:e.spacing(2)}}})),C=function(){var e=_(),t=Object(a.useState)(!1),c=Object(d.a)(t,2),n=c[0],r=c[1],i=Object(a.useRef)(null),s=function(e){i.current&&i.current.contains(e.target)||r(!1)};function o(e){"Tab"===e.key&&(e.preventDefault(),r(!1))}return Object(k.jsxs)(b.a,{position:"static",className:e.header,children:[Object(k.jsx)(O.a,{children:Object(k.jsx)(L.b,{to:"/",children:Object(k.jsx)(S.a,{style:{color:"white"}})})}),Object(k.jsxs)(O.a,{children:[Object(k.jsx)(h.a,{ref:i,"aria-controls":n?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){r((function(e){return!e}))},children:Object(k.jsx)(w.a,{style:{color:"white"},fontSize:"large"})}),Object(k.jsx)(p.a,{open:n,anchorEl:i.current,role:void 0,transition:!0,disablePortal:!0,children:function(e){var t=e.TransitionProps,c=e.placement;return Object(k.jsx)(f.a,Object(u.a)(Object(u.a)({},t),{},{style:{transformOrigin:"bottom"===c?"center top":"center bottom"},children:Object(k.jsx)(x.a,{children:Object(k.jsx)(m.a,{onClickAway:s,children:Object(k.jsxs)(g.a,{autoFocusItem:n,id:"menu-list-grow",onKeyDown:o,children:[Object(k.jsx)(v.a,{onClick:s,children:Object(k.jsx)(L.b,{to:"/profile",children:"Profile"})}),Object(k.jsx)(v.a,{onClick:s,children:Object(k.jsx)(L.b,{to:"/chats",children:"Chats"})})]})})})}))}})]})]})},D=function(){return Object(k.jsx)("div",{children:Object(k.jsx)("h1",{children:" Home "})})},N=c(129),T=c(130),A=c(131),B=c(48),M=c(132),F=c(133),G=c(146),R=c(134),P=c(141),z="SET_GENDER_MALE",H="SET_GENDER_FEMALE",U="SET_GENDER_OTHER",J=Object(y.a)((function(e){return{root:{maxWidth:400},media:{height:300},button:{margin:e.spacing(1,1,0,0)}}})),X=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.gender})),c=J(),n=Object(a.useState)(t),r=Object(d.a)(n,2),s=r[0],o=r[1],j=Object(a.useRef)(null);return Object(k.jsxs)(N.a,{className:c.root,children:[Object(k.jsx)(T.a,{className:c.media,image:"http://placekitten.com/200/300",title:"kitten"}),Object(k.jsxs)(A.a,{children:[Object(k.jsx)(B.a,{gutterBottom:!0,variant:"h5",component:"h2",children:"Lizard"}),Object(k.jsx)("form",{onSubmit:function(e){e.preventDefault()},children:Object(k.jsxs)(M.a,{component:"fieldset",children:[Object(k.jsx)(F.a,{component:"legend",children:"Gender"}),Object(k.jsxs)(G.a,{"aria-label":"gender",name:"gender1",ref:j,value:s,onChange:function(e){o(e.target.value)},row:!0,children:[Object(k.jsx)(R.a,{value:"female",control:Object(k.jsx)(P.a,{color:"primary"}),label:"Female"}),Object(k.jsx)(R.a,{value:"male",control:Object(k.jsx)(P.a,{color:"primary"}),label:"Male"}),Object(k.jsx)(R.a,{value:"other",control:Object(k.jsx)(P.a,{color:"primary"}),label:"Other"})]}),Object(k.jsx)(h.a,{type:"submit",variant:"outlined",color:"primary",className:c.button,onClick:function(){"male"==s?e({type:z}):"female"==s?e({type:H}):"other"==s&&e({type:U})},children:"Submit"})]})}),Object(k.jsx)(B.a,{variant:"body2",color:"textSecondary",component:"p",children:"Lizards are a widezspread group of squamate reptiles, with over 6,000 species, ranging across all continents except Antarctica"})]})]})},q=c(7),K=c(107),V=c(136),W=c(147),Y=c(137),Q=c(127),Z=c(135),$=c(106),ee="ADD_MESSAGE",te="DELETE_MESSAGE",ce="DELETE_MESSAGES_BY_CHAT_ID",ne="BOT_MESSAGE",ae=function(e){return{type:ee,payload:e}},re=Object(y.a)((function(e){return{paper:{padding:e.spacing(1)},deleteButton:{color:"red"}}})),ie=function(e){var t=re(),c=e.item,n={messageId:c.id,chatId:Object(q.g)().chatId},a=Object(i.b)();return Object(k.jsxs)($.a,{children:[c.author,": - ",Object(k.jsx)(x.a,{className:t.paper,children:c.text}),Object(k.jsx)(h.a,{onClick:function(){a(function(e){return{type:te,payload:e}}(n))},children:Object(k.jsx)(Z.a,{className:t.deleteButton})})]},c.id)},se=function(e){return function(e){return e.messages}(e).messageList},oe=Object(y.a)((function(e){return{list:{border:"none",marginBottom:e.spacing(2)}}})),je=function(e){var t=oe(),c=Object(i.c)(se)[Object(q.g)().chatId];return Object(k.jsx)(Q.a,{className:t.list,children:Object(k.jsx)(x.a,{children:c.map((function(e){return Object(k.jsx)(ie,{item:e})}))})})},le=function(e){return e.chats},ue=function(e){return le(e).chats},de=c(57),be=Object(K.a)((function(e){return{paper:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:"8px"},input:{flexGrow:1}}})),Oe=(n=function(e){var t=be(),c=Object(a.useState)(""),n=Object(d.a)(c,2),r=n[0],s=n[1],o=Object(q.g)().chatId,j=Object(a.useState)("0"),l=Object(d.a)(j,2),u=l[0],b=l[1],O=Object(i.b)(),p=Object(i.c)(se),f=p[o];console.log(p);var m=Object(a.useRef)(null);function g(e){var t=+e+1;return b(t),t}return Object(a.useEffect)((function(){m.current.focus()})),Object(a.useEffect)((function(){if(console.log("THat's useEffect"),0!==f.length){var t=f[f.length-1];"Lizard"===t.author?(e.author,g(u)):console.log(t)}}),[f]),Object(k.jsxs)(V.a,{container:!0,justifyContent:"center",direction:"row",children:[Object(k.jsx)(V.a,{item:!0,sx:6,children:Object(k.jsx)(h.a,{children:Object(k.jsx)(L.b,{to:"/chats",children:"Back to chats"})})}),Object(k.jsxs)(V.a,{item:!0,sx:6,children:[Object(k.jsx)(x.a,{children:e.author}),Object(k.jsx)(je,{}),Object(k.jsxs)(x.a,{className:t.paper,component:"form",onSubmit:function(e){e.preventDefault(),function(e,t,c,n){O(ae({chatId:n,id:c,author:e,text:t}))}("Lizard",r,g(u),o),s("")},children:[Object(k.jsx)(W.a,{inputRef:m,value:r,onChange:function(e){s(e.target.value)},type:"text",className:t.input}),Object(k.jsx)(h.a,{type:"submit",className:"submit",children:Object(k.jsx)(Y.a,{})})]})]})]})},function(e){var t=Object(q.g)().chatId,c=Object(i.c)(ue).find((function(e){return e.id==t}));return c?Object(k.jsx)(n,Object(u.a)(Object(u.a)({},e),{},{chat:c})):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(h.a,{children:Object(k.jsx)(L.b,{to:"/chats",children:"Back to chats"})}),Object(k.jsx)("img",{src:"https://previews.123rf.com/images/kaymosk/kaymosk1804/kaymosk180400006/100130939-error-404-page-not-found-error-with-glitch-effect-on-screen-vector-illustration-for-your-design-.jpg",alt:"Page not found"})]})}),he=c(138),pe=Object(y.a)((function(e){return{paper:{padding:e.spacing(1),flexGrow:1,display:"flex",alignItems:"center"},deleteButton:{color:"red"}}})),fe=function(e){var t=pe(),c=e.item,n=e.updateUserList;return Object(k.jsx)($.a,{children:Object(k.jsxs)(x.a,{className:t.paper,children:[Object(k.jsx)(h.a,{onClick:function(){n(c.id)},children:Object(k.jsx)(Z.a,{className:t.deleteButton})}),Object(k.jsx)(he.a,{children:Object(k.jsx)(L.b,{to:"/chats/".concat(c.id),children:c.author})})]})})},xe=c(76),me=c.n(xe),ge="ADD_CHAT",ve="DELETE_CHAT",ye=function(e){var t=Object(i.b)(),c=Object(i.c)(ue),n=function(e){t(function(e){return{type:ve,payload:e}}(e)),t(function(e){return{type:ce,payload:e}}(e))};return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(Q.a,{children:[Object(k.jsxs)(h.a,{onClick:function(){var e=Object(de.a)(),c=prompt("Enter name of user");t({type:ge,payload:{id:e,author:c}})},children:["Add chat",Object(k.jsx)(me.a,{})]}),c.map((function(e){return Object(k.jsx)(fe,{item:e,updateUserList:n},e.id)}))]})})},Ee=Object(K.a)((function(){return{center:{display:"flex",flexDirection:"column",alignItems:"center"}}}));var we=function(){var e=Ee();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(C,{}),Object(k.jsx)(l.a,{className:e.center,children:Object(k.jsxs)(q.c,{children:[Object(k.jsx)(q.a,{path:"/profile",element:Object(k.jsx)(X,{})}),Object(k.jsx)(q.a,{exact:!0,path:"/chats/:chatId",element:Object(k.jsx)(Oe,{})}),Object(k.jsx)(q.a,{exact:!0,path:"/chats",element:Object(k.jsx)(ye,{})}),Object(k.jsx)(q.a,{path:"/",element:Object(k.jsx)(D,{})})]})})]})},Ie=c(24),Se={gender:"other"},Le=c(36),ke={chats:[{id:1,author:"Ivan Ivanov"},{id:2,author:"Petr Petrov"},{id:3,author:"Maria Murina"}]},_e={messageList:{1:[{id:0,author:"Lizard",text:"Hello"},{id:1,author:"Ivan Ivanov",text:"Hello, Lizard"}],2:[]}},Ce=c(64),De=c(77),Ne=c.n(De),Te=c(63),Ae={key:"root",storage:Ne.a},Be=Object(Ie.b)({profile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{gender:"male"};case H:return{gender:"female"};case U:return{gender:"other"};default:return e}},chats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:var c=le(e);return Object(u.a)(Object(u.a)({},e),{},{chats:[].concat(Object(Le.a)(c),[t.payload])});case ve:var n=le(e),a=n.filter((function(e){return e.id!==t.payload}));return Object(u.a)(Object(u.a)({},e),{},{chats:Object(Le.a)(a)});default:return e}},messages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0,c=e.messageList;switch(t.type){case ne:var n=t.payload.chatId,a=t.payload,r=a.id,i=a.author,s=a.text,o={id:r,author:i,text:s};return c[n]=[].concat(Object(Le.a)(c[n]||[]),[o]),Object(u.a)(Object(u.a)({},e),{},{messageList:c});case ee:var j=t.payload.chatId,l=t.payload,d=l.id,b=l.author,O=l.text,h={id:d,author:b,text:O};return c[j]=[].concat(Object(Le.a)(c[j]||[]),[h]),Object(u.a)(Object(u.a)({},e),{},{messageList:c});case te:var p=t.payload.chatId,f=t.payload.messageId,x=c[p],m=x.findIndex((function(e){return e.id==f}));return x.splice(m,1),c[p]=Object(Le.a)(x),Object(u.a)(Object(u.a)({},e),{},{messageList:c});case ce:var g=t.payload;return delete c[g],Object(u.a)(Object(u.a)({},e),{},{messageList:c});default:return e}}}),Me=Object(Ce.a)(Ae,Be),Fe="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ie.c,Ge=Object(Ie.d)(Me,Fe(Object(Ie.a)(Te.a))),Re=Object(Ce.b)(Ge),Pe=c(78);o.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(i.a,{store:Ge,children:Object(k.jsx)(Pe.a,{loading:null,persistor:Re,children:Object(k.jsx)(L.a,{children:Object(k.jsx)(we,{})})})})}),document.getElementById("root")),j()}},[[103,1,2]]]);
//# sourceMappingURL=main.708ec205.chunk.js.map